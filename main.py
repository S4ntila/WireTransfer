# –ò–º–ø–æ—Ä—Ç–∏—Ä—É–µ–º –Ω—É–∂–Ω—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏
import requests
import telebot
from telebot import types
import os # –ú–æ–¥—É–ª—å –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –æ–∫—Ä—É–∂–µ–Ω–∏—è

# –ü–æ–ª—É—á–∞–µ–º —Ç–æ–∫–µ–Ω –¥–ª—è –Ω–∞—à–µ–≥–æ –±–æ—Ç–∞ –æ—Ç BotFather
ADMIN_ID = "ID_USER"

# –°–æ–∑–¥–∞–µ–º —ç–∫–∑–µ–º–ø–ª—è—Ä –±–æ—Ç–∞ —Å –ø–æ–º–æ—â—å—é –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ pyTelegramBotAPI
bot = telebot.TeleBot('BOT_TOKEN')

# –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Ñ—É–Ω–∫—Ü–∏—é –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∫—É—Ä—Å–∞ –µ–≤—Ä–æ –∫ —Ä—É–±–ª—é —Å –ø–æ–º–æ—â—å—é API –¶–µ–Ω—Ç—Ä–æ–±–∞–Ω–∫–∞ –†–æ—Å—Å–∏–∏
def get_eur_rub():
    # –ó–∞–ø—Ä–∞—à–∏–≤–∞–µ–º –¥–∞–Ω–Ω—ã–µ –ø–æ —Å—Å—ã–ª–∫–µ
    response = requests.get("https://www.cbr-xml-daily.ru/daily_json.js")
    # –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ –æ—Ç–≤–µ—Ç —É—Å–ø–µ—à–Ω—ã–π
    if response.status_code == 200:
        # –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ–º –¥–∞–Ω–Ω—ã–µ –≤ —Ñ–æ—Ä–º–∞—Ç JSON
        data = response.json()
        # –ò–∑–≤–ª–µ–∫–∞–µ–º –∫—É—Ä—Å –µ–≤—Ä–æ –∫ —Ä—É–±–ª—é –∏–∑ —Å–ª–æ–≤–∞—Ä—è
        eur_rub = data["Valute"]["EUR"]["Value"]
        # –í–æ–∑–≤—Ä–∞—â–∞–µ–º –∫—É—Ä—Å –≤ –≤–∏–¥–µ —á–∏—Å–ª–∞ —Å –ø–ª–∞–≤–∞—é—â–µ–π —Ç–æ—á–∫–æ–π
        return float(eur_rub)
    else:
        # –ï—Å–ª–∏ –æ—Ç–≤–µ—Ç –Ω–µ —É—Å–ø–µ—à–Ω—ã–π, –≤–æ–∑–≤—Ä–∞—â–∞–µ–º None
        return None

# –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Ñ—É–Ω–∫—Ü–∏—é –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è 6 –ø—Ä–æ—Ü–µ–Ω—Ç–æ–≤ –∫ —á–∏—Å–ª—É
def add_six_percent(number):
    # –£–º–Ω–æ–∂–∞–µ–º —á–∏—Å–ª–æ –Ω–∞ 1.06 –∏ –æ–∫—Ä—É–≥–ª—è–µ–º –¥–æ –¥–≤—É—Ö –∑–Ω–∞–∫–æ–≤ –ø–æ—Å–ª–µ –∑–∞–ø—è—Ç–æ–π
    return round(number * 1.06, 2)

# –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Ñ—É–Ω–∫—Ü–∏—é –¥–ª—è —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —á–∏—Å–ª–∞ —Å —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª–µ–º —Ç—ã—Å—è—á –∏ –∑–Ω–∞–∫–æ–º —Ä—É–±–ª—è
def format_rub(number):
    # –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ–º —á–∏—Å–ª–æ –≤ —Å—Ç—Ä–æ–∫—É —Å —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª–µ–º —Ç—ã—Å—è—á
    number_str = "{:,}".format(number)
    # –ó–∞–º–µ–Ω—è–µ–º –∑–∞–ø—è—Ç—ã–µ –Ω–∞ –ø—Ä–æ–±–µ–ª—ã
    number_str = number_str.replace(",", " ")
    # –î–æ–±–∞–≤–ª—è–µ–º –∑–Ω–∞–∫ —Ä—É–±–ª—è –≤ –∫–æ–Ω—Ü–µ —Å—Ç—Ä–æ–∫–∏
    number_str += " ‚ÇΩ"
    # –í–æ–∑–≤—Ä–∞—â–∞–µ–º –æ—Ç—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω—É—é —Å—Ç—Ä–æ–∫—É
    return number_str

# –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Ñ—É–Ω–∫—Ü–∏—é –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã —Å –∫–Ω–æ–ø–∫–∞–º–∏ –∫—É—Ä—Å, –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –∏ –æ–±–º–µ–Ω
def create_keyboard():
    # –°–æ–∑–¥–∞–µ–º —ç–∫–∑–µ–º–ø–ª—è—Ä –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã —Å –ø–æ–º–æ—â—å—é –∫–ª–∞—Å—Å–∞ InlineKeyboardMarkup
    keyboard = types.InlineKeyboardMarkup()
    # –°–æ–∑–¥–∞–µ–º —Ç—Ä–∏ –∫–Ω–æ–ø–∫–∏ —Å –ø–æ–º–æ—â—å—é –∫–ª–∞—Å—Å–∞ InlineKeyboardButton –∏ —Ç–µ–∫—Å—Ç–æ–º "–ö—É—Ä—Å", "–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è" –∏ "–û–±–º–µ–Ω"
    button_rate = types.InlineKeyboardButton("–ö—É—Ä—Å", callback_data="rate")
    button_instruction = types.InlineKeyboardButton("–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è", callback_data="instruction")
    button_exchange = types.InlineKeyboardButton("–û–±–º–µ–Ω", callback_data="exchange") # –≠—Ç–æ –Ω–æ–≤–∞—è –∫–Ω–æ–ø–∫–∞, –∫–æ—Ç–æ—Ä—É—é —è –¥–æ–±–∞–≤–∏–ª
    # –î–æ–±–∞–≤–ª—è–µ–º –∫–Ω–æ–ø–∫–∏ –Ω–∞ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É –≤ –æ–¥–∏–Ω —Ä—è–¥ —Å –ø–æ–º–æ—â—å—é –º–µ—Ç–æ–¥–∞ add
    keyboard.add(button_rate, button_instruction, button_exchange) # –ó–¥–µ—Å—å —è –¥–æ–±–∞–≤–∏–ª –Ω–æ–≤—É—é –∫–Ω–æ–ø–∫—É –≤ –∫–æ–Ω–µ—Ü —Ä—è–¥–∞
    # –í–æ–∑–≤—Ä–∞—â–∞–µ–º –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É
    return keyboard

# –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Ñ—É–Ω–∫—Ü–∏—é –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã —Å –∫–Ω–æ–ø–∫–∞–º–∏ –∫—É–ø–∏—Ç—å, –ø—Ä–æ–¥–∞—Ç—å –∏ –Ω–∞–∑–∞–¥
def create_exchange_keyboard():
    # –°–æ–∑–¥–∞–µ–º —ç–∫–∑–µ–º–ø–ª—è—Ä –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã —Å –ø–æ–º–æ—â—å—é –∫–ª–∞—Å—Å–∞ InlineKeyboardMarkup
    keyboard = types.InlineKeyboardMarkup()
    # –°–æ–∑–¥–∞–µ–º —Ç—Ä–∏ –∫–Ω–æ–ø–∫–∏ —Å –ø–æ–º–æ—â—å—é –∫–ª–∞—Å—Å–∞ InlineKeyboardButton –∏ —Ç–µ–∫—Å—Ç–æ–º "–ö—É–ø–∏—Ç—å", "–ü—Ä–æ–¥–∞—Ç—å" –∏ "–ù–∞–∑–∞–¥"
    button_buy = types.InlineKeyboardButton("–ö—É–ø–∏—Ç—å", callback_data="buy")
    button_sell = types.InlineKeyboardButton("–ü—Ä–æ–¥–∞—Ç—å", callback_data="sell")
    button_back = types.InlineKeyboardButton("–ù–∞–∑–∞–¥", callback_data="back")
    # –î–æ–±–∞–≤–ª—è–µ–º –∫–Ω–æ–ø–∫–∏ –Ω–∞ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É –≤ –¥–≤–∞ —Ä—è–¥–∞ —Å –ø–æ–º–æ—â—å—é –º–µ—Ç–æ–¥–∞ add
    keyboard.add(button_buy, button_sell)
    keyboard.add(button_back)
    # –í–æ–∑–≤—Ä–∞—â–∞–µ–º –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É
    return keyboard

# –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Ñ—É–Ω–∫—Ü–∏—é –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã —Å –∫–Ω–æ–ø–∫–æ–π –æ—Ç–º–µ–Ω—ã
def create_cancel_keyboard():
    # –°–æ–∑–¥–∞–µ–º —ç–∫–∑–µ–º–ø–ª—è—Ä –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã —Å –ø–æ–º–æ—â—å—é –∫–ª–∞—Å—Å–∞ InlineKeyboardMarkup
    keyboard = types.InlineKeyboardMarkup()
    # –°–æ–∑–¥–∞–µ–º –æ–¥–Ω—É –∫–Ω–æ–ø–∫—É —Å –ø–æ–º–æ—â—å—é –∫–ª–∞—Å—Å–∞ InlineKeyboardButton –∏ —Ç–µ–∫—Å—Ç–æ–º "–û—Ç–º–µ–Ω–∞"
    button_cancel = types.InlineKeyboardButton("–û—Ç–º–µ–Ω–∞", callback_data="cancel")
    # –î–æ–±–∞–≤–ª—è–µ–º –∫–Ω–æ–ø–∫—É –Ω–∞ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É —Å –ø–æ–º–æ—â—å—é –º–µ—Ç–æ–¥–∞ add
    keyboard.add(button_cancel)
    # –í–æ–∑–≤—Ä–∞—â–∞–µ–º –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É
    return keyboard

# –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Ñ—É–Ω–∫—Ü–∏—é –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã —Å –∫–Ω–æ–ø–∫–æ–π –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è
def create_confirm_keyboard():
    # –°–æ–∑–¥–∞–µ–º —ç–∫–∑–µ–º–ø–ª—è—Ä –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã —Å –ø–æ–º–æ—â—å—é –∫–ª–∞—Å—Å–∞ InlineKeyboardMarkup
    keyboard = types.InlineKeyboardMarkup()
    # –°–æ–∑–¥–∞–µ–º –æ–¥–Ω—É –∫–Ω–æ–ø–∫—É —Å –ø–æ–º–æ—â—å—é –∫–ª–∞—Å—Å–∞ InlineKeyboardButton –∏ —Ç–µ–∫—Å—Ç–æ–º "–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å"
    button_confirm = types.InlineKeyboardButton("–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å", callback_data="confirm")
    # –î–æ–±–∞–≤–ª—è–µ–º –∫–Ω–æ–ø–∫—É –Ω–∞ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É —Å –ø–æ–º–æ—â—å—é –º–µ—Ç–æ–¥–∞ add
    keyboard.add(button_confirm)
    # –í–æ–∑–≤—Ä–∞—â–∞–µ–º –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É
    return keyboard

# –ò–º–ø–æ—Ä—Ç–∏—Ä—É–µ–º –º–æ–¥—É–ª—å time –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å–æ –≤—Ä–µ–º–µ–Ω–µ–º
import time

# –°–æ–∑–¥–∞–µ–º –≥–ª–æ–±–∞–ª—å–Ω—É—é –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –≤—Ä–µ–º–µ–Ω–∏ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
last_notification_time = None

# –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Ñ—É–Ω–∫—Ü–∏—é –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É –±–æ—Ç–∞ –æ –Ω–æ–≤–æ–π –∑–∞—è–≤–∫–µ –Ω–∞ –æ–±–º–µ–Ω –≤–∞–ª—é—Ç—ã
def send_notification(chat_id, type, amount, name, iban):
    # –ü–æ–ª—É—á–∞–µ–º —Ç–µ–∫—É—â–µ–µ –≤—Ä–µ–º—è –≤ —Å–µ–∫—É–Ω–¥–∞—Ö —Å –ø–æ–º–æ—â—å—é —Ñ—É–Ω–∫—Ü–∏–∏ time.time
    current_time = time.time()
    # –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è last_notification_time –Ω–µ None –∏ —á—Ç–æ –ø—Ä–æ—à–ª–æ –Ω–µ –º–µ–Ω–µ–µ 15 –º–∏–Ω—É—Ç —Å –º–æ–º–µ–Ω—Ç–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
    if last_notification_time is not None and current_time - last_notification_time < 15 * 60:
        # –ï—Å–ª–∏ —ç—Ç–æ —Ç–∞–∫, —Ç–æ –ø—Ä–æ–ø—É—Å–∫–∞–µ–º –æ—Ç–ø—Ä–∞–≤–∫—É —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –∏ –≤—ã–≤–æ–¥–∏–º —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ –∫–æ–Ω—Å–æ–ª—å
        print("–ü—Ä–æ–ø—É—Å–∫–∞–µ–º –æ—Ç–ø—Ä–∞–≤–∫—É —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è, —Ç–∞–∫ –∫–∞–∫ –ø—Ä–æ—à–ª–æ –º–µ–Ω–µ–µ 15 –º–∏–Ω—É—Ç —Å –º–æ–º–µ–Ω—Ç–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è.")
        return
    # –ò–Ω–∞—á–µ, –ø—Ä–æ–¥–æ–ª–∂–∞–µ–º –æ—Ç–ø—Ä–∞–≤–∫—É —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
    # –°–æ—Å—Ç–∞–≤–ª—è–µ–º —Ç–µ–∫—Å—Ç —Å–æ–æ–±—â–µ–Ω–∏—è —Å –¥–∞–Ω–Ω—ã–º–∏ –æ –∑–∞—è–≤–∫–µ –∏ —ç–º–æ–¥–∑–∏
    text = f"–ù–æ–≤–∞—è –∑–∞—è–≤–∫–∞ –Ω–∞ –æ–±–º–µ–Ω –≤–∞–ª—é—Ç—ã! üö®\n\n–¢–∏–ø: {type}\n–°—É–º–º–∞: {amount} ‚Ç¨\n–§–∞–º–∏–ª–∏—è –∏ –∏–º—è: {name}\nIBAN: {iban}\n\n–ß—Ç–æ–±—ã —Å–≤—è–∑–∞—Ç—å—Å—è —Å –∫–ª–∏–µ–Ω—Ç–æ–º, –Ω–∞–ø–∏—à–∏ –µ–º—É –≤ —ç—Ç–æ–º —á–∞—Ç–µ: {chat_id}"
    # –û—Ç–ø—Ä–∞–≤–ª—è–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É –±–æ—Ç–∞ —Å –ø–æ–º–æ—â—å—é –º–µ—Ç–æ–¥–∞ send_message –∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º chat_id, –∫–æ—Ç–æ—Ä—ã–π —Ä–∞–≤–µ–Ω ID –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ –±–æ—Ç–∞ (–≤—Å—Ç–∞–≤—å —Å–≤–æ–π ID —Å—é–¥–∞)
    bot.send_message(ADMIN_ID, text)
    # –û–±–Ω–æ–≤–ª—è–µ–º –∑–Ω–∞—á–µ–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π last_notification_time –Ω–∞ —Ç–µ–∫—É—â–µ–µ –≤—Ä–µ–º—è
    last_notification_time = current_time
    
# –û–ø—Ä–µ–¥–µ–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–æ–º–∞–Ω–¥—ã /start, –∫–æ—Ç–æ—Ä–∞—è –≤—ã–≤–æ–¥–∏—Ç –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –∏ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É —Å –∫–Ω–æ–ø–∫–∞–º–∏ –∫—É—Ä—Å, –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –∏ –æ–±–º–µ–Ω
@bot.message_handler(commands=["start"])
def start(message):
    # –û—Ç–ø—Ä–∞–≤–ª—è–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é —Å –ø–æ–º–æ—â—å—é –º–µ—Ç–æ–¥–∞ send_message –∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º reply_markup, —á—Ç–æ–±—ã –ø–æ–∫–∞–∑–∞—Ç—å –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É
    bot.send_message(message.chat.id, "–ü—Ä–∏–≤–µ—Ç, —ç—Ç–æ –°–∏–¥–Ω–µ–π. –Ø —Ç–≤–æ–π AI-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç –ø–æ –æ–±–º–µ–Ω—É –≤–∞–ª—é—Ç—ã. üòä\n–Ø –º–æ–≥—É –ø–æ–º–æ—á—å —Ç–µ–±–µ –∫—É–ø–∏—Ç—å –∏–ª–∏ –ø—Ä–æ–¥–∞—Ç—å –µ–≤—Ä–æ –ø–æ –≤—ã–≥–æ–¥–Ω–æ–º—É –∫—É—Ä—Å—É. üí∂\n–ß—Ç–æ–±—ã –Ω–∞—á–∞—Ç—å, –≤—ã–±–µ—Ä–∏ –æ–¥–Ω—É –∏–∑ –æ–ø—Ü–∏–π –Ω–∞ –∫–ª–∞–≤–∏–∞—Ç—É—Ä–µ –∏–ª–∏ –Ω–∞–ø–∏—à–∏ –º–Ω–µ /help, —á—Ç–æ–±—ã —É–∑–Ω–∞—Ç—å, —á—Ç–æ —è —É–º–µ—é.", reply_markup=create_keyboard())
    
# –û–ø—Ä–µ–¥–µ–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–æ–º–∞–Ω–¥—ã /rate, –∫–æ—Ç–æ—Ä–∞—è –≤—ã–≤–æ–¥–∏—Ç –∫—É—Ä—Å –µ–≤—Ä–æ –∫ —Ä—É–±–ª—é –∏ –¥–æ–±–∞–≤–ª—è–µ—Ç –∫ –Ω–µ–º—É –ø–æ 6 –ø—Ä–æ—Ü–µ–Ω—Ç–æ–≤
@bot.message_handler(commands=["rate"])
def rate(message):
    # –ü–æ–ª—É—á–∞–µ–º –∫—É—Ä—Å –µ–≤—Ä–æ –∫ —Ä—É–±–ª—é —Å –ø–æ–º–æ—â—å—é —Ñ—É–Ω–∫—Ü–∏–∏ get_eur_rub
    eur_rub = get_eur_rub()
    # –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ –∫—É—Ä—Å –Ω–µ None
    if eur_rub is not None:
        # –î–æ–±–∞–≤–ª—è–µ–º –ø–æ 6 –ø—Ä–æ—Ü–µ–Ω—Ç–æ–≤ –∫ –∫—É—Ä—Å—É –ø–æ–∫—É–ø–∫–∏ –∏ –ø—Ä–æ–¥–∞–∂–∏ –µ–≤—Ä–æ —Å –ø–æ–º–æ—â—å—é —Ñ—É–Ω–∫—Ü–∏–∏ add_six_percent
        eur_rub_buy = add_six_percent(eur_rub)
        eur_rub_sell = add_six_percent(eur_rub * 0.99) # –ø—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ–º, —á—Ç–æ –∫—É—Ä—Å –ø—Ä–æ–¥–∞–∂–∏ –Ω–∞ 1 –ø—Ä–æ—Ü–µ–Ω—Ç –Ω–∏–∂–µ –∫—É—Ä—Å–∞ –ø–æ–∫—É–ø–∫–∏
        # –§–æ—Ä–º–∞—Ç–∏—Ä—É–µ–º –∫—É—Ä—Å—ã —Å –ø–æ–º–æ—â—å—é —Ñ—É–Ω–∫—Ü–∏–∏ format_rub
        eur_rub_buy_str = format_rub(eur_rub_buy)
        eur_rub_sell_str = format_rub(eur_rub_sell)
        # –°–æ—Å—Ç–∞–≤–ª—è–µ–º —Ç–µ–∫—Å—Ç —Å–æ–æ–±—â–µ–Ω–∏—è —Å –∫—É—Ä—Å–∞–º–∏ –∏ —ç–º–æ–¥–∑–∏
        text = f"–ö—É—Ä—Å –µ–≤—Ä–æ –∫ —Ä—É–±–ª—é –Ω–∞ —Å–µ–≥–æ–¥–Ω—è:\n\nüîµ –ü–æ–∫—É–ø–∫–∞: {eur_rub_buy_str}\nüî¥ –ü—Ä–æ–¥–∞–∂–∞: {eur_rub_sell_str}"
        # –û—Ç–ø—Ä–∞–≤–ª—è–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é —Å –ø–æ–º–æ—â—å—é –º–µ—Ç–æ–¥–∞ send_message
        bot.send_message(message.chat.id, text)
    else:
        # –ï—Å–ª–∏ –∫—É—Ä—Å None, –∑–Ω–∞—á–∏—Ç –ø—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–ø—Ä–æ—Å–µ –¥–∞–Ω–Ω—ã—Ö
        # –û—Ç–ø—Ä–∞–≤–ª—è–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é —Å –∏–∑–≤–∏–Ω–µ–Ω–∏–µ–º –∏ —ç–º–æ–¥–∑–∏
        bot.send_message(message.chat.id, "–ò–∑–≤–∏–Ω–∏, —è –Ω–µ —Å–º–æ–≥ –ø–æ–ª—É—á–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –ø–æ –∫—É—Ä—Å—É –µ–≤—Ä–æ. üò¢\n–ü–æ–ø—Ä–æ–±—É–π –ø–æ–∑–∂–µ –∏–ª–∏ –Ω–∞–ø–∏—à–∏ –º–Ω–µ /start, —á—Ç–æ–±—ã —É–∑–Ω–∞—Ç—å, —á—Ç–æ —è —É–º–µ—é.")

# –û–ø—Ä–µ–¥–µ–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–æ–º–∞–Ω–¥—ã /instruction, –∫–æ—Ç–æ—Ä–∞—è –≤—ã–≤–æ–¥–∏—Ç –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é –ø–æ –æ–±–º–µ–Ω—É –≤–∞–ª—é—Ç—ã —á–µ—Ä–µ–∑ –±–æ—Ç–∞
@bot.message_handler(commands=["instruction"])
def instruction(message):
    # –°–æ—Å—Ç–∞–≤–ª—è–µ–º —Ç–µ–∫—Å—Ç —Å–æ–æ–±—â–µ–Ω–∏—è —Å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–µ–π –∏ —ç–º–æ–¥–∑–∏
    text = "–ï—Å–ª–∏ —Ç—ã —Ö–æ—á–µ—à—å –æ–±–º–µ–Ω—è—Ç—å –≤–∞–ª—é—Ç—É —á–µ—Ä–µ–∑ –º–µ–Ω—è, –≤–æ—Ç —á—Ç–æ —Ç–µ–±–µ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å:\n\n1. –ü–æ–¥–∞—ë—à—å –∑–∞—è–≤–∫—É –Ω–∞ –æ–±–º–µ–Ω –≤–∞–ª—é—Ç—ã —á–µ—Ä–µ–∑ –≤–∫–ª–∞–¥–∫—É ¬´–û–±–º–µ–Ω¬ª –≤ –≥–ª–∞–≤–Ω–æ–º –º–µ–Ω—é –±–æ—Ç–∞. –ü–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ç–∏–ø–µ –ø–µ—Ä–µ–≤–æ–¥–∞, —Å—É–º–º–µ, —Ä–µ–∫–≤–∏–∑–∏—Ç—ã —Ç–≤–æ–µ–π –∫–∞—Ä—Ç—ã –¥–ª—è –∑–∞—á–∏—Å–ª–µ–Ω–∏—è –ø–µ—Ä–µ–≤–æ–¥–∞. üìù\n2. –í –±–ª–∏–∂–∞–π—à–µ–µ –≤—Ä–µ–º—è —è —Å–≤—è–∂—É—Å—å —Å —Ç–æ–±–æ–π –¥–ª—è —É—Ç–æ—á–Ω–µ–Ω–∏—è –∫—É—Ä—Å–∞ –∏ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ –≤—ã–ø–æ–ª–Ω–∏—Ç—å –ø–µ—Ä–µ–≤–æ–¥. –ê —Ç–∞–∫–∂–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—é —Ä–µ–∫–≤–∏–∑–∏—Ç—ã –¥–ª—è –æ–ø–ª–∞—Ç—ã. üí≥\n3. –î–∞–ª–µ–µ —Å–ª–µ–¥—É–µ—Ç –æ—Ç–ø—Ä–∞–≤–∏—Ç—å —Å—Ä–µ–¥—Å—Ç–≤–∞ –≤ —Ç–µ—á–µ–Ω–∏–∏ 15 –º–∏–Ω—É—Ç(!) –ø–æ—Å–ª–µ –ø–æ–ª—É—á–µ–Ω–∏—è —Ä–µ–∫–≤–∏–∑–∏—Ç–æ–≤, –∞ —Ç–∞–∫–∂–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç—å —á–µ–∫. –ü—Ä–∏ –Ω–∞–¥–æ–±–Ω–æ—Å—Ç–∏, –º–æ–∂–µ—Ç –ø–æ—Ç—Ä–µ–±–æ–≤–∞—Ç—å—Å—è —É–∫–∞–∑–∞—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –ø—Ä–∏ –ø–µ—Ä–µ–≤–æ–¥–µ, –æ —á–µ–º –ø—Ä–µ–¥—É–ø—Ä–µ–∂—É –∑–∞—Ä–∞–Ω–µ–µ. üí∏\n4. –ü–æ–ª—É—á–∞–µ—à—å —Å—Ä–µ–¥—Å—Ç–≤–∞ –Ω–∞ —É–∫–∞–∑–∞–Ω–Ω—ã–µ —Ç–æ–±–æ–π –≤ –∑–∞—è–≤–∫–µ —Ä–µ–∫–≤–∏–∑–∏—Ç—ã (~30-60 –º–∏–Ω—É—Ç, –ø–æ—Å–ª–µ –æ—Ç–ø—Ä–∞–≤–∫–∏ —Ç–æ–±–æ–π —Å—Ä–µ–¥—Å—Ç–≤). üí∞\n5. –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—à—å –º–Ω–µ —Å–∫—Ä–∏–Ω –ø—Ä–∏—Ö–æ–¥–∞ —Å—Ä–µ–¥—Å—Ç–≤. üì∏"
    # –û—Ç–ø—Ä–∞–≤–ª—è–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é —Å –ø–æ–º–æ—â—å—é –º–µ—Ç–æ–¥–∞ send_message
    bot.send_message(message.chat.id, text)

# –û–ø—Ä–µ–¥–µ–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–æ–º–∞–Ω–¥—ã /exchange, –∫–æ—Ç–æ—Ä–∞—è –≤—ã–≤–æ–¥–∏—Ç –º–µ–Ω—é –æ–±–º–µ–Ω–∞ –≤–∞–ª—é—Ç—ã –∏ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É —Å –∫–Ω–æ–ø–∫–∞–º–∏ –∫—É–ø–∏—Ç—å, –ø—Ä–æ–¥–∞—Ç—å –∏ –Ω–∞–∑–∞–¥
@bot.message_handler(commands=["exchange"])
def exchange(message):
    # –û—Ç–ø—Ä–∞–≤–ª—è–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é —Å –ø–æ–º–æ—â—å—é –º–µ—Ç–æ–¥–∞ send_message –∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º reply_markup, —á—Ç–æ–±—ã –ø–æ–∫–∞–∑–∞—Ç—å –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É
    bot.send_message(message.chat.id, "–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –º–µ–Ω—é –æ–±–º–µ–Ω–∞ –≤–∞–ª—é—Ç—ã. üôå\n–ó–¥–µ—Å—å —Ç—ã –º–æ–∂–µ—à—å –∫—É–ø–∏—Ç—å –∏–ª–∏ –ø—Ä–æ–¥–∞—Ç—å –µ–≤—Ä–æ –ø–æ –≤—ã–≥–æ–¥–Ω–æ–º—É –∫—É—Ä—Å—É. üí∂\n–í—ã–±–µ—Ä–∏ –æ–¥–Ω—É –∏–∑ –æ–ø—Ü–∏–π –Ω–∞ –∫–ª–∞–≤–∏–∞—Ç—É—Ä–µ –∏–ª–∏ –Ω–∞–∂–º–∏ \"–ù–∞–∑–∞–¥\", —á—Ç–æ–±—ã –≤–µ—Ä–Ω—É—Ç—å—Å—è –≤ –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é.", reply_markup=create_exchange_keyboard())

# –û–ø—Ä–µ–¥–µ–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–æ–ª–±—ç–∫–æ–≤ –æ—Ç –∫–Ω–æ–ø–æ–∫ –Ω–∞ –∫–ª–∞–≤–∏–∞—Ç—É—Ä–∞—Ö
@bot.callback_query_handler(func=lambda call: True)
def handle_callback(call):
    # –ü–æ–ª—É—á–∞–µ–º –¥–∞–Ω–Ω—ã–µ –æ—Ç –∫–Ω–æ–ø–∫–∏, –Ω–∞ –∫–æ—Ç–æ—Ä—É—é –Ω–∞–∂–∞–ª –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
    data = call.data
    # –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ –¥–∞–Ω–Ω—ã–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç –æ–¥–Ω–æ–º—É –∏–∑ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤
    if data == "rate":
        # –ï—Å–ª–∏ –¥–∞–Ω–Ω—ã–µ —Ä–∞–≤–Ω—ã "rate", –≤—ã–∑—ã–≤–∞–µ–º —Ñ—É–Ω–∫—Ü–∏—é rate, –∫–æ—Ç–æ—Ä–∞—è –≤—ã–≤–æ–¥–∏—Ç –∫—É—Ä—Å –µ–≤—Ä–æ –∫ —Ä—É–±–ª—é –∏ –¥–æ–±–∞–≤–ª—è–µ—Ç –∫ –Ω–µ–º—É –ø–æ 6 –ø—Ä–æ—Ü–µ–Ω—Ç–æ–≤
        rate(call.message)
    elif data == "instruction":
        # –ï—Å–ª–∏ –¥–∞–Ω–Ω—ã–µ —Ä–∞–≤–Ω—ã "instruction", –≤—ã–∑—ã–≤–∞–µ–º —Ñ—É–Ω–∫—Ü–∏—é instruction, –∫–æ—Ç–æ—Ä–∞—è –≤—ã–≤–æ–¥–∏—Ç –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é –ø–æ –æ–±–º–µ–Ω—É –≤–∞–ª—é—Ç—ã —á–µ—Ä–µ–∑ –±–æ—Ç–∞
        instruction(call.message)
    elif data == "exchange":
        # –ï—Å–ª–∏ –¥–∞–Ω–Ω—ã–µ —Ä–∞–≤–Ω—ã "exchange", –≤—ã–∑—ã–≤–∞–µ–º —Ñ—É–Ω–∫—Ü–∏—é exchange, –∫–æ—Ç–æ—Ä–∞—è –≤—ã–≤–æ–¥–∏—Ç –º–µ–Ω—é –æ–±–º–µ–Ω–∞ –≤–∞–ª—é—Ç—ã –∏ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É —Å –∫–Ω–æ–ø–∫–∞–º–∏ –∫—É–ø–∏—Ç—å, –ø—Ä–æ–¥–∞—Ç—å –∏ –Ω–∞–∑–∞–¥
        exchange(call.message)
    elif data == "buy":
        # –ï—Å–ª–∏ –¥–∞–Ω–Ω—ã–µ —Ä–∞–≤–Ω—ã "buy", –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é —Å –ø–æ–º–æ—â—å—é –º–µ—Ç–æ–¥–∞ send_message –∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º reply_markup, —á—Ç–æ–±—ã –ø–æ–∫–∞–∑–∞—Ç—å –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É —Å –∫–Ω–æ–ø–∫–æ–π –æ—Ç–º–µ–Ω—ã
        bot.send_message(call.message.chat.id, "–¢—ã —Ö–æ—á–µ—à—å –∫—É–ø–∏—Ç—å –µ–≤—Ä–æ –ø–æ –∫—É—Ä—Å—É {eur_rub_buy_str}. üí∂\n–í–≤–µ–¥–∏—Ç–µ —Å—É–º–º—É –≤ –µ–≤—Ä–æ, –∫–æ—Ç–æ—Ä—É—é —Ç—ã —Ö–æ—á–µ—à—å –∫—É–ø–∏—Ç—å, –∏–ª–∏ –Ω–∞–∂–º–∏ \"–û—Ç–º–µ–Ω–∞\", —á—Ç–æ–±—ã –≤–µ—Ä–Ω—É—Ç—å—Å—è –≤ –º–µ–Ω—é –æ–±–º–µ–Ω–∞ –≤–∞–ª—é—Ç—ã.".format(eur_rub_buy_str=format_rub(add_six_percent(get_eur_rub()))), reply_markup=create_cancel_keyboard())
        # –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Å–ª–µ–¥—É—é—â–∏–π —à–∞–≥ –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏—è –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å –ø–æ–º–æ—â—å—é –º–µ—Ç–æ–¥–∞ register_next_step_handler –∏ —Ñ—É–Ω–∫—Ü–∏–∏ buy_amount, –∫–æ—Ç–æ—Ä–∞—è –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç —Å—É–º–º—É –≤ –µ–≤—Ä–æ
        bot.register_next_step_handler(call.message, buy_amount)
    elif data == "sell":
        # –ï—Å–ª–∏ –¥–∞–Ω–Ω—ã–µ —Ä–∞–≤–Ω—ã "sell", –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é —Å –ø–æ–º–æ—â—å—é –º–µ—Ç–æ–¥–∞ send_message –∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º reply_markup, —á—Ç–æ–±—ã –ø–æ–∫–∞–∑–∞—Ç—å –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É —Å –∫–Ω–æ–ø–∫–æ–π –æ—Ç–º–µ–Ω—ã
        bot.send_message(call.message.chat.id, "–¢—ã —Ö–æ—á–µ—à—å –ø—Ä–æ–¥–∞—Ç—å –µ–≤—Ä–æ –ø–æ –∫—É—Ä—Å—É {eur_rub_sell_str}. üí∂\n–í–≤–µ–¥–∏—Ç–µ —Å—É–º–º—É –≤ –µ–≤—Ä–æ, –∫–æ—Ç–æ—Ä—É—é —Ç—ã —Ö–æ—á–µ—à—å –ø—Ä–æ–¥–∞—Ç—å, –∏–ª–∏ –Ω–∞–∂–º–∏ \"–û—Ç–º–µ–Ω–∞\", —á—Ç–æ–±—ã –≤–µ—Ä–Ω—É—Ç—å—Å—è –≤ –º–µ–Ω—é –æ–±–º–µ–Ω–∞ –≤–∞–ª—é—Ç—ã.".format(eur_rub_sell_str=format_rub(add_six_percent(get_eur_rub() * 0.99))), reply_markup=create_cancel_keyboard())
        # –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Å–ª–µ–¥—É—é—â–∏–π —à–∞–≥ –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏—è –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å –ø–æ–º–æ—â—å—é –º–µ—Ç–æ–¥–∞ register_next_step_handler –∏ —Ñ—É–Ω–∫—Ü–∏–∏ sell_amount, –∫–æ—Ç–æ—Ä–∞—è –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç —Å—É–º–º—É –≤ –µ–≤—Ä–æ
        bot.register_next_step_handler(call.message, sell_amount)
    elif data == "back":
        # –ï—Å–ª–∏ –¥–∞–Ω–Ω—ã–µ —Ä–∞–≤–Ω—ã "back", –≤—ã–∑—ã–≤–∞–µ–º —Ñ—É–Ω–∫—Ü–∏—é start, –∫–æ—Ç–æ—Ä–∞—è –≤—ã–≤–æ–¥–∏—Ç –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –∏ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É —Å –∫–Ω–æ–ø–∫–∞–º–∏ –∫—É—Ä—Å, –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –∏ –æ–±–º–µ–Ω
        start(call.message)
    elif data == "cancel":
        # –ï—Å–ª–∏ –¥–∞–Ω–Ω—ã–µ —Ä–∞–≤–Ω—ã "cancel", –≤—ã–∑—ã–≤–∞–µ–º —Ñ—É–Ω–∫—Ü–∏—é exchange, –∫–æ—Ç–æ—Ä–∞—è –≤—ã–≤–æ–¥–∏—Ç –º–µ–Ω—é –æ–±–º–µ–Ω–∞ –≤–∞–ª—é—Ç—ã –∏ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É —Å –∫–Ω–æ–ø–∫–∞–º–∏ –∫—É–ø–∏—Ç—å, –ø—Ä–æ–¥–∞—Ç—å –∏ –Ω–∞–∑–∞–¥
        exchange(call.message)
    elif data == "confirm":
        # –ï—Å–ª–∏ –¥–∞–Ω–Ω—ã–µ —Ä–∞–≤–Ω—ã "confirm", –≤—ã–∑—ã–≤–∞–µ–º —Ñ—É–Ω–∫—Ü–∏—é buy_confirm –∏–ª–∏ sell_confirm –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ç–∏–ø–∞ –∑–∞—è–≤–∫–∏ –Ω–∞ –æ–±–º–µ–Ω –≤–∞–ª—é—Ç—ã, –∫–æ—Ç–æ—Ä—É—é —Ö—Ä–∞–Ω–∏—Ç –≥–ª–æ–±–∞–ª—å–Ω–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è exchange_type
        if exchange_type == "buy":
            buy_confirm(call.message, exchange_amount, exchange_name, exchange_iban) # –î–æ–±–∞–≤—å call –≤ –∫–∞—á–µ—Å—Ç–≤–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞
        elif exchange_type == "sell":
            sell_confirm(call.message, exchange_amount, exchange_name, exchange_iban) # –î–æ–±–∞–≤—å call –≤ –∫–∞—á–µ—Å—Ç–≤–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞
    # –£–±–µ—Ä–∏ —ç—Ç–æ—Ç –±–ª–æ–∫ –∫–æ–¥–∞:
    # –î–æ–±–∞–≤–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–æ–ª–±—ç–∫–æ–≤ –¥–ª—è –∫–Ω–æ–ø–∫–∏ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è
    # elif data == "confirm": # –≠—Ç–æ –Ω–æ–≤–∞—è —Å—Ç—Ä–æ–∫–∞, –∫–æ—Ç–æ—Ä—É—é —è –¥–æ–±–∞–≤–∏–ª–∞
    #     # –ï—Å–ª–∏ –¥–∞–Ω–Ω—ã–µ —Ä–∞–≤–Ω—ã "confirm", –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é —Å –ø–æ–º–æ—â—å—é –º–µ—Ç–æ–¥–∞ answer_callback_query –∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º show
        bot.answer_callback_query(call.id, "–¢–≤–æ—è –∑–∞—è–≤–∫–∞ –Ω–∞ –æ–±–º–µ–Ω –≤–∞–ª—é—Ç—ã –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∞. ‚úÖ\n–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ–¥–æ–∂–¥–∏, –ø–æ–∫–∞ —è —Å–≤—è–∂—É—Å—å —Å —Ç–æ–±–æ–π –¥–ª—è —É—Ç–æ—á–Ω–µ–Ω–∏—è –¥–µ—Ç–∞–ª–µ–π.", show_alert=True) # –≠—Ç–æ –Ω–æ–≤–∞—è —Å—Ç—Ä–æ–∫–∞, –∫–æ—Ç–æ—Ä—É—é —è –¥–æ–±–∞–≤–∏–ª–∞

# –û–ø—Ä–µ–¥–µ–ª—è–µ–º –≥–ª–æ–±–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –æ –∑–∞—è–≤–∫–µ –Ω–∞ –æ–±–º–µ–Ω –≤–∞–ª—é—Ç—ã
exchange_type = None # –¢–∏–ø –∑–∞—è–≤–∫–∏: –∫—É–ø–∏—Ç—å –∏–ª–∏ –ø—Ä–æ–¥–∞—Ç—å
exchange_amount = None # –°—É–º–º–∞ –≤ –µ–≤—Ä–æ
# –§–∞–º–∏–ª–∏—è –∏ –∏–º—è
exchange_name = None
# IBAN
exchange_iban = None

# –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Ñ—É–Ω–∫—Ü–∏—é –¥–ª—è –∑–∞–ø—Ä–∞—à–∏–≤–∞–Ω–∏—è —Å—É–º–º—ã –≤ –µ–≤—Ä–æ –ø—Ä–∏ –ø–æ–∫—É–ø–∫–µ
def buy_amount(message):
    # –ü–æ–ª—É—á–∞–µ–º —Ç–µ–∫—Å—Ç —Å–æ–æ–±—â–µ–Ω–∏—è –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
    text = message.text
    # –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ —Ç–µ–∫—Å—Ç –Ω–µ —Ä–∞–≤–µ–Ω "–û—Ç–º–µ–Ω–∞"
    if text != "–û—Ç–º–µ–Ω–∞":
        # –ü—ã—Ç–∞–µ–º—Å—è –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç—å —Ç–µ–∫—Å—Ç –≤ —á–∏—Å–ª–æ —Å –ø–ª–∞–≤–∞—é—â–µ–π —Ç–æ—á–∫–æ–π
        try:
            # –ü—Ä–∏—Å–≤–∞–∏–≤–∞–µ–º –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π amount –∑–Ω–∞—á–µ–Ω–∏–µ —á–∏—Å–ª–∞
            amount = float(text)
            # –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ —á–∏—Å–ª–æ –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–æ–µ –∏ –Ω–µ –±–æ–ª—å—à–µ 10000
            if amount > 0 and amount <= 10000:
                # –û—Ç–ø—Ä–∞–≤–ª—è–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é —Å –ø–æ–º–æ—â—å—é –º–µ—Ç–æ–¥–∞ send_message –∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º reply_markup, —á—Ç–æ–±—ã –ø–æ–∫–∞–∑–∞—Ç—å –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É —Å –∫–Ω–æ–ø–∫–æ–π –æ—Ç–º–µ–Ω—ã
                bot.send_message(message.chat.id, "–¢—ã —Ö–æ—á–µ—à—å –∫—É–ø–∏—Ç—å {amount} ‚Ç¨ –∑–∞ {rub} ‚ÇΩ. üí∂üí∞\n–í–≤–µ–¥–∏—Ç–µ —Å–≤–æ—é —Ñ–∞–º–∏–ª–∏—é –∏ –∏–º—è –∏–ª–∏ –Ω–∞–∂–º–∏ \"–û—Ç–º–µ–Ω–∞\", —á—Ç–æ–±—ã –≤–µ—Ä–Ω—É—Ç—å—Å—è –≤ –º–µ–Ω—é –æ–±–º–µ–Ω–∞ –≤–∞–ª—é—Ç—ã.".format(amount=amount, rub=format_rub(amount * add_six_percent(get_eur_rub()))), reply_markup=create_cancel_keyboard())
                # –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Å–ª–µ–¥—É—é—â–∏–π —à–∞–≥ –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏—è –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å –ø–æ–º–æ—â—å—é –º–µ—Ç–æ–¥–∞ register_next_step_handler –∏ —Ñ—É–Ω–∫—Ü–∏–∏ buy_name, –∫–æ—Ç–æ—Ä–∞—è –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç —Ñ–∞–º–∏–ª–∏—é –∏ –∏–º—è
                bot.register_next_step_handler(message, buy_name, amount)
            else:
                # –ï—Å–ª–∏ —á–∏—Å–ª–æ –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω–æ–µ –∏–ª–∏ –±–æ–ª—å—à–µ 10000, –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é —Å –ø–æ–º–æ—â—å—é –º–µ—Ç–æ–¥–∞ send_message –∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º reply_markup, —á—Ç–æ–±—ã –ø–æ–∫–∞–∑–∞—Ç—å –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É —Å –∫–Ω–æ–ø–∫–æ–π –æ—Ç–º–µ–Ω—ã
                bot.send_message(message.chat.id, "–ò–∑–≤–∏–Ω–∏, –Ω–æ —Ç—ã –º–æ–∂–µ—à—å –∫—É–ø–∏—Ç—å —Ç–æ–ª—å–∫–æ –æ—Ç 0.01 –¥–æ 10000 –µ–≤—Ä–æ –∑–∞ —Ä–∞–∑. üòÖ\n–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—É—é —Å—É–º–º—É –∏–ª–∏ –Ω–∞–∂–º–∏ \"–û—Ç–º–µ–Ω–∞\", —á—Ç–æ–±—ã –≤–µ—Ä–Ω—É—Ç—å—Å—è –≤ –º–µ–Ω—é –æ–±–º–µ–Ω–∞ –≤–∞–ª—é—Ç—ã.", reply_markup=create_cancel_keyboard())
                # –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Å–ª–µ–¥—É—é—â–∏–π —à–∞–≥ –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏—è –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å –ø–æ–º–æ—â—å—é –º–µ—Ç–æ–¥–∞ register_next_step_handler –∏ —Ñ—É–Ω–∫—Ü–∏–∏ buy_amount, –∫–æ—Ç–æ—Ä–∞—è –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç —Å—É–º–º—É –≤ –µ–≤—Ä–æ
                bot.register_next_step_handler(message, buy_amount)
        except ValueError:
            # –ï—Å–ª–∏ —Ç–µ–∫—Å—Ç –Ω–µ —è–≤–ª—è–µ—Ç—Å—è —á–∏—Å–ª–æ–º, –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é —Å –ø–æ–º–æ—â—å—é –º–µ—Ç–æ–¥–∞ send_message –∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º reply_markup, —á—Ç–æ–±—ã –ø–æ–∫–∞–∑–∞—Ç—å –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É —Å –∫–Ω–æ–ø–∫–æ–π –æ—Ç–º–µ–Ω—ã
            bot.send_message(message.chat.id, "–ò–∑–≤–∏–Ω–∏, –Ω–æ —è –Ω–µ –ø–æ–Ω–∏–º–∞—é, —á—Ç–æ —Ç—ã –Ω–∞–ø–∏—Å–∞–ª. üòï\n–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏ —Å—É–º–º—É –≤ –µ–≤—Ä–æ –∏–ª–∏ –Ω–∞–∂–º–∏ \"–û—Ç–º–µ–Ω–∞\", —á—Ç–æ–±—ã –≤–µ—Ä–Ω—É—Ç—å—Å—è –≤ –º–µ–Ω—é –æ–±–º–µ–Ω–∞ –≤–∞–ª—é—Ç—ã.", reply_markup=create_cancel_keyboard())
            # –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Å–ª–µ–¥—É—é—â–∏–π —à–∞–≥ –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏—è –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å –ø–æ–º–æ—â—å—é –º–µ—Ç–æ–¥–∞ register_next_step_handler –∏ —Ñ—É–Ω–∫—Ü–∏–∏ buy_amount, –∫–æ—Ç–æ—Ä–∞—è –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç —Å—É–º–º—É –≤ –µ–≤—Ä–æ
            bot.register_next_step_handler(message, buy_amount)
    else:
        # –ï—Å–ª–∏ —Ç–µ–∫—Å—Ç —Ä–∞–≤–µ–Ω "–û—Ç–º–µ–Ω–∞", –≤—ã–∑—ã–≤–∞–µ–º —Ñ—É–Ω–∫—Ü–∏—é exchange, –∫–æ—Ç–æ—Ä–∞—è –≤—ã–≤–æ–¥–∏—Ç –º–µ–Ω—é –æ–±–º–µ–Ω–∞ –≤–∞–ª—é—Ç—ã –∏ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É —Å –∫–Ω–æ–ø–∫–∞–º–∏ –∫—É–ø–∏—Ç—å, –ø—Ä–æ–¥–∞—Ç—å –∏ –Ω–∞–∑–∞–¥
        exchange(message)

# –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Ñ—É–Ω–∫—Ü–∏—é –¥–ª—è –∑–∞–ø—Ä–∞—à–∏–≤–∞–Ω–∏—è —Ñ–∞–º–∏–ª–∏–∏ –∏ –∏–º–µ–Ω–∏ –ø—Ä–∏ –ø–æ–∫—É–ø–∫–µ
def buy_name(message, amount):
    # –ü–æ–ª—É—á–∞–µ–º —Ç–µ–∫—Å—Ç —Å–æ–æ–±—â–µ–Ω–∏—è –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
    text = message.text
    # –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ —Ç–µ–∫—Å—Ç –Ω–µ —Ä–∞–≤–µ–Ω "–û—Ç–º–µ–Ω–∞"
    if text != "–û—Ç–º–µ–Ω–∞":
        # –ü—Ä–∏—Å–≤–∞–∏–≤–∞–µ–º –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π name –∑–Ω–∞—á–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞
        name = text
        # –û—Ç–ø—Ä–∞–≤–ª—è–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é —Å –ø–æ–º–æ—â—å—é –º–µ—Ç–æ–¥–∞ send_message –∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º reply_markup, —á—Ç–æ–±—ã –ø–æ–∫–∞–∑–∞—Ç—å –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É —Å –∫–Ω–æ–ø–∫–æ–π –æ—Ç–º–µ–Ω—ã
        bot.send_message(message.chat.id, "–¢–≤–æ—è —Ñ–∞–º–∏–ª–∏—è –∏ –∏–º—è: {name}. üë§\n–í–≤–µ–¥–∏—Ç–µ —Å–≤–æ–π IBAN –∏–ª–∏ –Ω–∞–∂–º–∏ \"–û—Ç–º–µ–Ω–∞\", —á—Ç–æ–±—ã –≤–µ—Ä–Ω—É—Ç—å—Å—è –≤ –º–µ–Ω—é –æ–±–º–µ–Ω–∞ –≤–∞–ª—é—Ç—ã.".format(name=name), reply_markup=create_cancel_keyboard())
        # –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Å–ª–µ–¥—É—é—â–∏–π —à–∞–≥ –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏—è –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å –ø–æ–º–æ—â—å—é –º–µ—Ç–æ–¥–∞ register_next_step_handler –∏ —Ñ—É–Ω–∫—Ü–∏–∏ buy_iban, –∫–æ—Ç–æ—Ä–∞—è –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç IBAN
        bot.register_next_step_handler(message, buy_iban, amount, name)
    else:
        # –ï—Å–ª–∏ —Ç–µ–∫—Å—Ç —Ä–∞–≤–µ–Ω "–û—Ç–º–µ–Ω–∞", –≤—ã–∑—ã–≤–∞–µ–º —Ñ—É–Ω–∫—Ü–∏—é exchange, –∫–æ—Ç–æ—Ä–∞—è –≤—ã–≤–æ–¥–∏—Ç –º–µ–Ω—é –æ–±–º–µ–Ω–∞ –≤–∞–ª—é—Ç—ã –∏ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É —Å –∫–Ω–æ–ø–∫–∞–º–∏ –∫—É–ø–∏—Ç—å, –ø—Ä–æ–¥–∞—Ç—å –∏ –Ω–∞–∑–∞–¥
        exchange(message)

# –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Ñ—É–Ω–∫—Ü–∏—é –¥–ª—è –∑–∞–ø—Ä–∞—à–∏–≤–∞–Ω–∏—è IBAN –ø—Ä–∏ –ø–æ–∫—É–ø–∫–µ
def buy_iban(message, amount, name):
    # –ü–æ–ª—É—á–∞–µ–º —Ç–µ–∫—Å—Ç —Å–æ–æ–±—â–µ–Ω–∏—è –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
    text = message.text
    # –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ —Ç–µ–∫—Å—Ç –Ω–µ —Ä–∞–≤–µ–Ω "–û—Ç–º–µ–Ω–∞"
    if text != "–û—Ç–º–µ–Ω–∞":
        # –ü—Ä–∏—Å–≤–∞–∏–≤–∞–µ–º –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π iban –∑–Ω–∞—á–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞
        iban = text
        # –û—Ç–ø—Ä–∞–≤–ª—è–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é —Å –ø–æ–º–æ—â—å—é –º–µ—Ç–æ–¥–∞ send_message –∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º reply_markup, —á—Ç–æ–±—ã –ø–æ–∫–∞–∑–∞—Ç—å –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É —Å –∫–Ω–æ–ø–∫–æ–π –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è
        bot.send_message(message.chat.id, "–¢–≤–æ–π IBAN: {iban}. üè¶\n–¢—ã —Ö–æ—á–µ—à—å –∫—É–ø–∏—Ç—å {amount} ‚Ç¨ –∑–∞ {rub} ‚ÇΩ. üí∂üí∞\n–¢–≤–æ—è —Ñ–∞–º–∏–ª–∏—è –∏ –∏–º—è: {name}. üë§\n–ï—Å–ª–∏ –≤—Å–µ –≤–µ—Ä–Ω–æ, –Ω–∞–∂–º–∏ \"–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å\", —á—Ç–æ–±—ã –æ—Ñ–æ—Ä–º–∏—Ç—å –∑–∞—è–≤–∫—É –Ω–∞ –æ–±–º–µ–Ω –≤–∞–ª—é—Ç—ã. ‚úÖ\n–ï—Å–ª–∏ —Ö–æ—á–µ—à—å –∏–∑–º–µ–Ω–∏—Ç—å –¥–∞–Ω–Ω—ã–µ, –Ω–∞–∂–º–∏ \"–û—Ç–º–µ–Ω–∞\" –∏ –Ω–∞—á–Ω–∏ –∑–∞–Ω–æ–≤–æ.".format(iban=iban, amount=amount, rub=format_rub(amount * add_six_percent(get_eur_rub())), name=name), reply_markup=create_confirm_keyboard())
        # –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Å–ª–µ–¥—É—é—â–∏–π —à–∞–≥ –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏—è –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å –ø–æ–º–æ—â—å—é –º–µ—Ç–æ–¥–∞ register_next_step_handler –∏ —Ñ—É–Ω–∫—Ü–∏–∏ buy_confirm, –∫–æ—Ç–æ—Ä–∞—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç –∑–∞—è–≤–∫—É –Ω–∞ –æ–±–º–µ–Ω –≤–∞–ª—é—Ç—ã
        bot.register_next_step_handler(message, buy_confirm, amount, name, iban)
    else:
        # –ï—Å–ª–∏ —Ç–µ–∫—Å—Ç —Ä–∞–≤–µ–Ω "–û—Ç–º–µ–Ω–∞", –≤—ã–∑—ã–≤–∞–µ–º —Ñ—É–Ω–∫—Ü–∏—é exchange, –∫–æ—Ç–æ—Ä–∞—è –≤—ã–≤–æ–¥–∏—Ç –º–µ–Ω—é –æ–±–º–µ–Ω–∞ –≤–∞–ª—é—Ç—ã –∏ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É —Å –∫–Ω–æ–ø–∫–∞–º–∏ –∫—É–ø–∏—Ç—å, –ø—Ä–æ–¥–∞—Ç—å –∏ –Ω–∞–∑–∞–¥
        exchange(message)

# –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Ñ—É–Ω–∫—Ü–∏—é –¥–ª—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –∑–∞—è–≤–∫–∏ –Ω–∞ –æ–±–º–µ–Ω –≤–∞–ª—é—Ç—ã –ø—Ä–∏ –ø–æ–∫—É–ø–∫–µ
def buy_confirm(message, amount, name, iban):
    bot.send_message(ADMIN_ID, f"–ù–æ–≤–∞—è –∑–∞—è–≤–∫–∞ –Ω–∞ –æ–±–º–µ–Ω –≤–∞–ª—é—Ç—ã!\n\n–¢–∏–ø: –ü–æ–∫—É–ø–∫–∞\n–°—É–º–º–∞: {amount} ‚Ç¨\n–§–∞–º–∏–ª–∏—è –∏ –∏–º—è: {name}\nIBAN: {iban}\n\n–ß—Ç–æ–±—ã —Å–≤—è–∑–∞—Ç—å—Å—è —Å –∫–ª–∏–µ–Ω—Ç–æ–º, –Ω–∞–ø–∏—à–∏ –µ–º—É –≤ —ç—Ç–æ–º —á–∞—Ç–µ: {message.chat_id}")
    # –ü–æ–ª—É—á–∞–µ–º —Ç–µ–∫—Å—Ç —Å–æ–æ–±—â–µ–Ω–∏—è –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
    text = message.text
    # –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ —Ç–µ–∫—Å—Ç —Ä–∞–≤–µ–Ω "–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å"
    if text == "–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å":
        bot.send_message(ADMIN_ID, f"–ù–æ–≤–∞—è –∑–∞—è–≤–∫–∞ –Ω–∞ –æ–±–º–µ–Ω –≤–∞–ª—é—Ç—ã!\n\n–¢–∏–ø: –ü–æ–∫—É–ø–∫–∞\n–°—É–º–º–∞: {amount} ‚Ç¨\n–§–∞–º–∏–ª–∏—è –∏ –∏–º—è: {name}\nIBAN: {iban}\n\n–ß—Ç–æ–±—ã —Å–≤—è–∑–∞—Ç—å—Å—è —Å –∫–ª–∏–µ–Ω—Ç–æ–º, –Ω–∞–ø–∏—à–∏ –µ–º—É –≤ —ç—Ç–æ–º —á–∞—Ç–µ: {message.chat_id}")
        # –û—Ç–ø—Ä–∞–≤–ª—è–µ–º —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é —Å –ø–æ–º–æ—â—å—é –º–µ—Ç–æ–¥–∞ answer_callback_query –∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º show_alert
        bot.answer_callback_query(message.id, "–¢–≤–æ—è –∑–∞—è–≤–∫–∞ –Ω–∞ –æ–±–º–µ–Ω –≤–∞–ª—é—Ç—ã –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∞. ‚úÖ\n–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ–¥–æ–∂–¥–∏, –ø–æ–∫–∞ —è —Å–≤—è–∂—É—Å—å —Å —Ç–æ–±–æ–π –¥–ª—è —É—Ç–æ—á–Ω–µ–Ω–∏—è –¥–µ—Ç–∞–ª–µ–π.", show_alert=True) # –ó–∞–º–µ–Ω–∏ message.id –Ω–∞ call.id
        # –û—Ç–ø—Ä–∞–≤–ª—è–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é —Å –ø–æ–º–æ—â—å—é –º–µ—Ç–æ–¥–∞ send_message –∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º reply_markup, —á—Ç–æ–±—ã –ø–æ–∫–∞–∑–∞—Ç—å –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É —Å –∫–Ω–æ–ø–∫–∞–º–∏ –∫—É—Ä—Å, –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –∏ –æ–±–º–µ–Ω
        #bot.send_message(message.chat.id, "–¢–≤–æ—è –∑–∞—è–≤–∫–∞ –Ω–∞ –æ–±–º–µ–Ω –≤–∞–ª—é—Ç—ã —É—Å–ø–µ—à–Ω–æ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∞. üéâ\n–í –±–ª–∏–∂–∞–π—à–µ–µ –≤—Ä–µ–º—è —è —Å–≤—è–∂—É—Å—å —Å —Ç–æ–±–æ–π –¥–ª—è —É—Ç–æ—á–Ω–µ–Ω–∏—è –∫—É—Ä—Å–∞ –∏ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ –≤—ã–ø–æ–ª–Ω–∏—Ç—å –ø–µ—Ä–µ–≤–æ–¥. üí≥\n–°–ø–∞—Å–∏–±–æ, —á—Ç–æ –ø–æ–ª—å–∑—É–µ—à—å—Å—è –º–æ–∏–º–∏ —É—Å–ª—É–≥–∞–º–∏. üôè", reply_markup=create_keyboard())
        # –û—Ç–ø—Ä–∞–≤–ª—è–µ–º —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É –±–æ—Ç–∞ –æ –Ω–æ–≤–æ–π –∑–∞—è–≤–∫–µ –Ω–∞ –æ–±–º–µ–Ω –≤–∞–ª—é—Ç—ã —Å –ø–æ–º–æ—â—å—é —Ñ—É–Ω–∫—Ü–∏–∏ send_notification
        #send_notification(message.chat.id, "–ö—É–ø–∏—Ç—å", amount, name, iban)
    else:
# –ï—Å–ª–∏ —Ç–µ–∫—Å—Ç –Ω–µ —Ä–∞–≤–µ–Ω "–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å", –≤—ã–∑—ã–≤–∞–µ–º —Ñ—É–Ω–∫—Ü–∏—é exchange, –∫–æ—Ç–æ—Ä–∞—è –≤—ã–≤–æ–¥–∏—Ç –º–µ–Ω—é –æ–±–º–µ–Ω–∞ –≤–∞–ª—é—Ç—ã –∏ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É —Å –∫–Ω–æ–ø–∫–∞–º–∏ –∫—É–ø–∏—Ç—å, –ø—Ä–æ–¥–∞—Ç—å –∏ –Ω–∞–∑–∞–¥
        exchange(message)

# –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Ñ—É–Ω–∫—Ü–∏—é –¥–ª—è –∑–∞–ø—Ä–∞—à–∏–≤–∞–Ω–∏—è —Å—É–º–º—ã –≤ –µ–≤—Ä–æ –ø—Ä–∏ –ø—Ä–æ–¥–∞–∂–µ
def sell_amount(message):
    # –ü–æ–ª—É—á–∞–µ–º —Ç–µ–∫—Å—Ç —Å–æ–æ–±—â–µ–Ω–∏—è –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
    text = message.text
    # –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ —Ç–µ–∫—Å—Ç –Ω–µ —Ä–∞–≤–µ–Ω "–û—Ç–º–µ–Ω–∞"
    if text != "–û—Ç–º–µ–Ω–∞":
        # –ü—ã—Ç–∞–µ–º—Å—è –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç—å —Ç–µ–∫—Å—Ç –≤ —á–∏—Å–ª–æ —Å –ø–ª–∞–≤–∞—é—â–µ–π —Ç–æ—á–∫–æ–π
        try:
            # –ü—Ä–∏—Å–≤–∞–∏–≤–∞–µ–º –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π amount –∑–Ω–∞—á–µ–Ω–∏–µ —á–∏—Å–ª–∞
            amount = float(text)
            # –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ —á–∏—Å–ª–æ –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–æ–µ –∏ –Ω–µ –±–æ–ª—å—à–µ 10000
            if amount > 0 and amount <= 10000:
                # –û—Ç–ø—Ä–∞–≤–ª—è–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é —Å –ø–æ–º–æ—â—å—é –º–µ—Ç–æ–¥–∞ send_message –∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º reply_markup, —á—Ç–æ–±—ã –ø–æ–∫–∞–∑–∞—Ç—å –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É —Å –∫–Ω–æ–ø–∫–æ–π –æ—Ç–º–µ–Ω—ã
                bot.send_message(message.chat.id, "–¢—ã —Ö–æ—á–µ—à—å –ø—Ä–æ–¥–∞—Ç—å {amount} ‚Ç¨ –∑–∞ {rub} ‚ÇΩ. üí∂üí∞\n–í–≤–µ–¥–∏—Ç–µ —Å–≤–æ—é —Ñ–∞–º–∏–ª–∏—é –∏ –∏–º—è –∏–ª–∏ –Ω–∞–∂–º–∏ \"–û—Ç–º–µ–Ω–∞\", —á—Ç–æ–±—ã –≤–µ—Ä–Ω—É—Ç—å—Å—è –≤ –º–µ–Ω—é –æ–±–º–µ–Ω–∞ –≤–∞–ª—é—Ç—ã.".format(amount=amount, rub=format_rub(amount * add_six_percent(get_eur_rub() * 0.99))), reply_markup=create_cancel_keyboard())
                # –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Å–ª–µ–¥—É—é—â–∏–π —à–∞–≥ –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏—è –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å –ø–æ–º–æ—â—å—é –º–µ—Ç–æ–¥–∞ register_next_step_handler –∏ —Ñ—É–Ω–∫—Ü–∏–∏ sell_name, –∫–æ—Ç–æ—Ä–∞—è –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç —Ñ–∞–º–∏–ª–∏—é –∏ –∏–º—è
                bot.register_next_step_handler(message, sell_name, amount)
            else:
                # –ï—Å–ª–∏ —á–∏—Å–ª–æ –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω–æ–µ –∏–ª–∏ –±–æ–ª—å—à–µ 10000, –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é —Å –ø–æ–º–æ—â—å—é –º–µ—Ç–æ–¥–∞ send_message –∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º reply_markup, —á—Ç–æ–±—ã –ø–æ–∫–∞–∑–∞—Ç—å –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É —Å –∫–Ω–æ–ø–∫–æ–π –æ—Ç–º–µ–Ω—ã
                bot.send_message(message.chat.id, "–ò–∑–≤–∏–Ω–∏, –Ω–æ —Ç—ã –º–æ–∂–µ—à—å –ø—Ä–æ–¥–∞—Ç—å —Ç–æ–ª—å–∫–æ –æ—Ç 0.01 –¥–æ 10000 –µ–≤—Ä–æ –∑–∞ —Ä–∞–∑. üòÖ\n–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—É—é —Å—É–º–º—É –∏–ª–∏ –Ω–∞–∂–º–∏ \"–û—Ç–º–µ–Ω–∞\", —á—Ç–æ–±—ã –≤–µ—Ä–Ω—É—Ç—å—Å—è –≤ –º–µ–Ω—é –æ–±–º–µ–Ω–∞ –≤–∞–ª—é—Ç—ã.", reply_markup=create_cancel_keyboard())
                # –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Å–ª–µ–¥—É—é—â–∏–π —à–∞–≥ –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏—è –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å –ø–æ–º–æ—â—å—é –º–µ—Ç–æ–¥–∞ register_next_step_handler –∏ —Ñ—É–Ω–∫—Ü–∏–∏ sell_amount, –∫–æ—Ç–æ—Ä–∞—è –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç —Å—É–º–º—É –≤ –µ–≤—Ä–æ
                bot.register_next_step_handler(message, sell_amount)
        except ValueError:
            # –ï—Å–ª–∏ —Ç–µ–∫—Å—Ç –Ω–µ —è–≤–ª—è–µ—Ç—Å—è —á–∏—Å–ª–æ–º, –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é —Å –ø–æ–º–æ—â—å—é –º–µ—Ç–æ–¥–∞ send_message –∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º reply_markup, —á—Ç–æ–±—ã –ø–æ–∫–∞–∑–∞—Ç—å –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É —Å –∫–Ω–æ–ø–∫–æ–π –æ—Ç–º–µ–Ω—ã
            bot.send_message(message.chat.id, "–ò–∑–≤–∏–Ω–∏, –Ω–æ —è –Ω–µ –ø–æ–Ω–∏–º–∞—é, —á—Ç–æ —Ç—ã –Ω–∞–ø–∏—Å–∞–ª. üòï\n–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏ —Å—É–º–º—É –≤ –µ–≤—Ä–æ –∏–ª–∏ –Ω–∞–∂–º–∏ \"–û—Ç–º–µ–Ω–∞\", —á—Ç–æ–±—ã –≤–µ—Ä–Ω—É—Ç—å—Å—è –≤ –º–µ–Ω—é –æ–±–º–µ–Ω–∞ –≤–∞–ª—é—Ç—ã.", reply_markup=create_cancel_keyboard())
            # –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Å–ª–µ–¥—É—é—â–∏–π —à–∞–≥ –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏—è –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å –ø–æ–º–æ—â—å—é –º–µ—Ç–æ–¥–∞ register_next_step_handler –∏ —Ñ—É–Ω–∫—Ü–∏–∏ sell_amount, –∫–æ—Ç–æ—Ä–∞—è –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç —Å—É–º–º—É –≤ –µ–≤—Ä–æ
            bot.register_next_step_handler(message, sell_amount)
    else:
        # –ï—Å–ª–∏ —Ç–µ–∫—Å—Ç —Ä–∞–≤–µ–Ω "–û—Ç–º–µ–Ω–∞", –≤—ã–∑—ã–≤–∞–µ–º —Ñ—É–Ω–∫—Ü–∏—é exchange, –∫–æ—Ç–æ—Ä–∞—è –≤—ã–≤–æ–¥–∏—Ç –º–µ–Ω—é –æ–±–º–µ–Ω–∞ –≤–∞–ª—é—Ç—ã –∏ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É —Å –∫–Ω–æ–ø–∫–∞–º–∏ –∫—É–ø–∏—Ç—å, –ø—Ä–æ–¥–∞—Ç—å –∏ –Ω–∞–∑–∞–¥
        exchange(message)

# –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Ñ—É–Ω–∫—Ü–∏—é –¥–ª—è –∑–∞–ø—Ä–∞—à–∏–≤–∞–Ω–∏—è —Ñ–∞–º–∏–ª–∏–∏ –∏ –∏–º–µ–Ω–∏ –ø—Ä–∏ –ø—Ä–æ–¥–∞–∂–µ
def sell_name(message, amount):
    # –ü–æ–ª—É—á–∞–µ–º —Ç–µ–∫—Å—Ç —Å–æ–æ–±—â–µ–Ω–∏—è –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
    text = message.text
    # –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ —Ç–µ–∫—Å—Ç –Ω–µ —Ä–∞–≤–µ–Ω "–û—Ç–º–µ–Ω–∞"
    if text != "–û—Ç–º–µ–Ω–∞":
        # –ü—Ä–∏—Å–≤–∞–∏–≤–∞–µ–º –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π name –∑–Ω–∞—á–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞
        name = text
        # –û—Ç–ø—Ä–∞–≤–ª—è–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é —Å –ø–æ–º–æ—â—å—é –º–µ—Ç–æ–¥–∞ send_message –∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º reply_markup, —á—Ç–æ–±—ã –ø–æ–∫–∞–∑–∞—Ç—å –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É —Å –∫–Ω–æ–ø–∫–æ–π –æ—Ç–º–µ–Ω—ã
        bot.send_message(message.chat.id, "–¢–≤–æ—è —Ñ–∞–º–∏–ª–∏—è –∏ –∏–º—è: {name}. üë§\n–í–≤–µ–¥–∏—Ç–µ —Å–≤–æ–π IBAN –∏–ª–∏ –Ω–∞–∂–º–∏ \"–û—Ç–º–µ–Ω–∞\", —á—Ç–æ–±—ã –≤–µ—Ä–Ω—É—Ç—å—Å—è –≤ –º–µ–Ω—é –æ–±–º–µ–Ω–∞ –≤–∞–ª—é—Ç—ã.".format(name=name), reply_markup=create_cancel_keyboard())
        # –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Å–ª–µ–¥—É—é—â–∏–π —à–∞–≥ –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏—è –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å –ø–æ–º–æ—â—å—é –º–µ—Ç–æ–¥–∞ register_next_step_handler –∏ —Ñ—É–Ω–∫—Ü–∏–∏ sell_iban, –∫–æ—Ç–æ—Ä–∞—è –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç IBAN
        bot.register_next_step_handler(message, sell_iban, amount, name)
    else:
        # –ï—Å–ª–∏ —Ç–µ–∫—Å—Ç —Ä–∞–≤–µ–Ω "–û—Ç–º–µ–Ω–∞", –≤—ã–∑—ã–≤–∞–µ–º —Ñ—É–Ω–∫—Ü–∏—é exchange, –∫–æ—Ç–æ—Ä–∞—è –≤—ã–≤–æ–¥–∏—Ç –º–µ–Ω—é –æ–±–º–µ–Ω–∞ –≤–∞–ª—é—Ç—ã –∏ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É —Å –∫–Ω–æ–ø–∫–∞–º–∏ –∫—É–ø–∏—Ç—å, –ø—Ä–æ–¥–∞—Ç—å –∏ –Ω–∞–∑–∞–¥
        exchange(message)

# –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Ñ—É–Ω–∫—Ü–∏—é –¥–ª—è –∑–∞–ø—Ä–∞—à–∏–≤–∞–Ω–∏—è IBAN –ø—Ä–∏ –ø—Ä–æ–¥–∞–∂–µ
def sell_iban(message, amount, name):
    # –ü–æ–ª—É—á–∞–µ–º —Ç–µ–∫—Å—Ç —Å–æ–æ–±—â–µ–Ω–∏—è –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
    text = message.text
    # –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ —Ç–µ–∫—Å—Ç –Ω–µ —Ä–∞–≤–µ–Ω "–û—Ç–º–µ–Ω–∞"
    if text != "–û—Ç–º–µ–Ω–∞":
        # –ü—Ä–∏—Å–≤–∞–∏–≤–∞–µ–º –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π iban –∑–Ω–∞—á–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞
        iban = text
        # –û—Ç–ø—Ä–∞–≤–ª—è–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é —Å –ø–æ–º–æ—â—å—é –º–µ—Ç–æ–¥–∞ send_message –∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º reply_markup, —á—Ç–æ–±—ã –ø–æ–∫–∞–∑–∞—Ç—å –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É —Å –∫–Ω–æ–ø–∫–æ–π –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è
        bot.send_message(message.chat.id, "–¢–≤–æ–π IBAN: {iban}. üè¶\n–¢—ã —Ö–æ—á–µ—à—å –ø—Ä–æ–¥–∞—Ç—å {amount} ‚Ç¨ –∑–∞ {rub} ‚ÇΩ. üí∂üí∞\n–¢–≤–æ—è —Ñ–∞–º–∏–ª–∏—è –∏ –∏–º—è: {name}. üë§\n–ï—Å–ª–∏ –≤—Å–µ –≤–µ—Ä–Ω–æ, –Ω–∞–∂–º–∏ \"–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å\", —á—Ç–æ–±—ã –æ—Ñ–æ—Ä–º–∏—Ç—å –∑–∞—è–≤–∫—É –Ω–∞ –æ–±–º–µ–Ω –≤–∞–ª—é—Ç—ã. ‚úÖ\n–ï—Å–ª–∏ —Ö–æ—á–µ—à—å –∏–∑–º–µ–Ω–∏—Ç—å –¥–∞–Ω–Ω—ã–µ, –Ω–∞–∂–º–∏ \"–û—Ç–º–µ–Ω–∞\" –∏ –Ω–∞—á–Ω–∏ –∑–∞–Ω–æ–≤–æ.".format(iban=iban, amount=amount, rub=format_rub(amount * add_six_percent(get_eur_rub() * 0.99)), name=name), reply_markup=create_confirm_keyboard())
        # –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Å–ª–µ–¥—É—é—â–∏–π —à–∞–≥ –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏—è –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å –ø–æ–º–æ—â—å—é –º–µ—Ç–æ–¥–∞ register_next_step_handler –∏ —Ñ—É–Ω–∫—Ü–∏–∏ sell_confirm, –∫–æ—Ç–æ—Ä–∞—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç –∑–∞—è–≤–∫—É –Ω–∞ –æ–±–º–µ–Ω –≤–∞–ª—é—Ç—ã
        bot.register_next_step_handler(message, sell_confirm, amount, name, iban)
    else:
        # –ï—Å–ª–∏ —Ç–µ–∫—Å—Ç —Ä–∞–≤–µ–Ω "–û—Ç–º–µ–Ω–∞", –≤—ã–∑—ã–≤–∞–µ–º —Ñ—É–Ω–∫—Ü–∏—é exchange, –∫–æ—Ç–æ—Ä–∞—è –≤—ã–≤–æ–¥–∏—Ç –º–µ–Ω—é –æ–±–º–µ–Ω–∞ –≤–∞–ª—é—Ç—ã –∏ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É —Å –∫–Ω–æ–ø–∫–∞–º–∏ –∫—É–ø–∏—Ç—å, –ø—Ä–æ–¥–∞—Ç—å –∏ –Ω–∞–∑–∞–¥
        exchange(message)

# –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Ñ—É–Ω–∫—Ü–∏—é –¥–ª—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –∑–∞—è–≤–∫–∏ –Ω–∞ –æ–±–º–µ–Ω –≤–∞–ª—é—Ç—ã –ø—Ä–∏ –ø—Ä–æ–¥–∞–∂–µ
def sell_confirm(message, amount, name, iban): # –î–æ–±–∞–≤—å call –≤ –∫–∞—á–µ—Å—Ç–≤–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞
    # –ü–æ–ª—É—á–∞–µ–º —Ç–µ–∫—Å—Ç —Å–æ–æ–±—â–µ–Ω–∏—è –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
    text = message.text
    # –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ —Ç–µ–∫—Å—Ç —Ä–∞–≤–µ–Ω "–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å"
    if text == "–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å":
        bot.send_message(ADMIN_ID, f"–ù–æ–≤–∞—è –∑–∞—è–≤–∫–∞ –Ω–∞ –æ–±–º–µ–Ω –≤–∞–ª—é—Ç—ã! üö®\n\n–¢–∏–ø: –ü—Ä–æ–¥–∞–∂–∞\n–°—É–º–º–∞: {amount} ‚Ç¨\n–§–∞–º–∏–ª–∏—è –∏ –∏–º—è: {name}\nIBAN: {iban}\n\n–ß—Ç–æ–±—ã —Å–≤—è–∑–∞—Ç—å—Å—è —Å –∫–ª–∏–µ–Ω—Ç–æ–º, –Ω–∞–ø–∏—à–∏ –µ–º—É –≤ —ç—Ç–æ–º —á–∞—Ç–µ: {message.chat_id}")
        # –û—Ç–ø—Ä–∞–≤–ª—è–µ–º —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é —Å –ø–æ–º–æ—â—å—é –º–µ—Ç–æ–¥–∞ answer_callback_query –∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º show_alert
        bot.answer_callback_query(message.id, "–¢–≤–æ—è –∑–∞—è–≤–∫–∞ –Ω–∞ –æ–±–º–µ–Ω –≤–∞–ª—é—Ç—ã –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∞. ‚úÖ\n–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ–¥–æ–∂–¥–∏, –ø–æ–∫–∞ —è —Å–≤—è–∂—É—Å—å —Å —Ç–æ–±–æ–π –¥–ª—è —É—Ç–æ—á–Ω–µ–Ω–∏—è –¥–µ—Ç–∞–ª–µ–π.", show_alert=True) # –ó–∞–º–µ–Ω–∏ message.id –Ω–∞ call.id
        # –û—Ç–ø—Ä–∞–≤–ª—è–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é —Å –ø–æ–º–æ—â—å—é –º–µ—Ç–æ–¥–∞ send_message –∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º reply_markup, —á—Ç–æ–±—ã –ø–æ–∫–∞–∑–∞—Ç—å –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É —Å –∫–Ω–æ–ø–∫–∞–º–∏ –∫—É—Ä—Å, –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –∏ –æ–±–º–µ–Ω
        bot.send_message(message.chat.id, "–¢–≤–æ—è –∑–∞—è–≤–∫–∞ –Ω–∞ –æ–±–º–µ–Ω –≤–∞–ª—é—Ç—ã —É—Å–ø–µ—à–Ω–æ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∞. üéâ\n–í –±–ª–∏–∂–∞–π—à–µ–µ –≤—Ä–µ–º—è —è —Å–≤—è–∂—É—Å—å —Å —Ç–æ–±–æ–π –¥–ª—è —É—Ç–æ—á–Ω–µ–Ω–∏—è –∫—É—Ä—Å–∞ –∏ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ –≤—ã–ø–æ–ª–Ω–∏—Ç—å –ø–µ—Ä–µ–≤–æ–¥. üí≥\n–°–ø–∞—Å–∏–±–æ, —á—Ç–æ –ø–æ–ª—å–∑—É–µ—à—å—Å—è –º–æ–∏–º–∏ —É—Å–ª—É–≥–∞–º–∏. üôè", reply_markup=create_keyboard())
        # –û—Ç–ø—Ä–∞–≤–ª—è–µ–º —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É –±–æ—Ç–∞ –æ –Ω–æ–≤–æ–π –∑–∞—è–≤–∫–µ –Ω–∞ –æ–±–º–µ–Ω –≤–∞–ª—é—Ç—ã —Å –ø–æ–º–æ—â—å—é —Ñ—É–Ω–∫—Ü–∏–∏ send_notification
        send_notification(message.chat.id, "–ü—Ä–æ–¥–∞—Ç—å", amount, name, iban)
    else:
# –ï—Å–ª–∏ —Ç–µ–∫—Å—Ç –Ω–µ —Ä–∞–≤–µ–Ω "–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å", –≤—ã–∑—ã–≤–∞–µ–º —Ñ—É–Ω–∫—Ü–∏—é exchange, –∫–æ—Ç–æ—Ä–∞—è –≤—ã–≤–æ–¥–∏—Ç –º–µ–Ω—é –æ–±–º–µ–Ω–∞ –≤–∞–ª—é—Ç—ã –∏ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É —Å –∫–Ω–æ–ø–∫–∞–º–∏ –∫—É–ø–∏—Ç—å, –ø—Ä–æ–¥–∞—Ç—å –∏ –Ω–∞–∑–∞–¥
        exchange(message)

# –ó–∞–ø—É—Å–∫–∞–µ–º –±–æ—Ç–∞ —Å –ø–æ–º–æ—â—å—é –º–µ—Ç–æ–¥–∞ polling
bot.polling()
